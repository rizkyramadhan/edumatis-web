{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{\"4/CW\":function(a,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/app/screens/admin/EditProfile\",function(){return e(\"dfPK\")}])},EEOF:function(a,n,e){\"use strict\";e.d(n,\"a\",function(){return l});var t=e(\"ln6h\"),s=e.n(t),r=e(\"9Jkg\"),o=e.n(r),u=e(\"O40h\"),i=e(\"THla\"),l=function(){var a=Object(u.a)(s.a.mark(function a(n){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(i.a.url,{method:\"POST\",body:o()({query:\"{\\n          session(limit:1) {\\n            id\\n          }\\n        }\"}),headers:{\"Content-Type\":\"application/json\",\"X-Hasura-ChangePass-Uid\":n}});case 2:a.sent;case 3:case\"end\":return a.stop()}},a)}));return function(n){return a.apply(this,arguments)}}()},dfPK:function(a,n,e){\"use strict\";e.r(n);var t=e(\"ln6h\"),s=e.n(t),r=e(\"O40h\"),o=e(\"Chh1\"),u=e(\"tsZx\"),i=e(\"mDt/\"),l=e(\"rRlx\"),c=e(\"oMaz\"),d=e(\"5niy\"),w=e(\"q1tI\"),p=e.n(w),h=e(\"IIls\"),f=e(\"XwJz\"),b=e(\"sZPt\"),m=e(\"Kr3e\"),P=e(\"jjgO\"),k=e(\"EEOF\"),g=p.a.createElement;n.default=Object(d.a)(function(a){var n=a.navigation,e=Object(d.b)({new1:\"\",new2:\"\",old:\"\",loading:!1});return g(i.a,null,g(c.a,{navigation:n,title:\"Ubah Password\"}),g(o.a,null,g(l.a,{type:\"password\",label:\"Password Lama\",value:e.old,setValue:function(a){return e.old=a}}),g(l.a,{type:\"password\",label:\"Password Baru\",value:e.new1,setValue:function(a){return e.new1=a}}),g(l.a,{type:\"password\",label:\"Ulangi Password Baru\",value:e.new2,setValue:function(a){return e.new2=a}}),e.loading?g(h.a,null,\"Loading...\"):g(u.a,{onPress:Object(r.a)(s.a.mark(function a(){var n,t,r,o;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=\"web\"===f.a.OS?alert:b.a.alert,a.next=3,Object(m.a)();case 3:if(t=a.sent,e.new1&&e.new2&&e.old){a.next=7;break}return n(\"Mohon isi password dengan lengkap\"),a.abrupt(\"return\",!1);case 7:if(e.new1===e.new2){a.next=10;break}return n(\"Password tidak sama \"),a.abrupt(\"return\",!1);case 10:return e.loading=!0,a.next=13,fetch(\"https://backend.cap.edumatis.id\",{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"X-Hasura-Username\":t.nama_sekolah.nsa,\"X-Hasura-Password\":e.old,\"X-Hasura-Cid\":t.nama_sekolah+\"\"}});case 13:return r=a.sent,a.next=16,r.json();case 16:if(o=a.sent,console.log(o,{\"Content-Type\":\"application/json\",\"X-Hasura-Username\":t.nama_sekolah.nsa,\"X-Hasura-Password\":e.old,\"X-Hasura-Cid\":t.nama_sekolah+\"\"}),\"anonymous\"===o[\"X-Hasura-Role\"]){a.next=26;break}return a.next=21,Object(P.a)(\"nama_sekolah\",{id:t.nama_sekolah.id,password:e.new1});case 21:return a.next=23,Object(k.a)(t.nama_sekolah.id);case 23:n(\"Password berhasil di-ubah!\"),a.next=27;break;case 26:n(\"Password lama salah\");case 27:e.loading=!1;case 28:case\"end\":return a.stop()}},a)}))},\"Ubah Password\")))})},sZPt:function(a,n,e){\"use strict\";var t=function(){function a(){}return a.alert=function(){},a}();n.a=t}},[[\"4/CW\",1,0]]]);"}