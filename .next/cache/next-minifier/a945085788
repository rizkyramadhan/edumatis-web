{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{\"52Dj\":function(e,n,a){\"use strict\";var t=a(\"q1tI\"),r=a.n(t),i=a(\"C7Rh\"),o=a(\"jzUF\"),s=a(\"IIls\"),l=a(\"l0wL\"),u=r.a.createElement,c=i.a.get(\"window\").width;n.a=function(e){var n=e.size,a=void 0===n?12:n,t=e.children,r=(e.sizexs,e.sizesm),i=e.sizemd,d=e.sizelg,f=e.sizexl,m=e.sizexxl,p=a;return c<=410?p=r||a:c>=411&&c<=567?p=r||a:c>=568&&c<=767?p=i||a:c>=768&&c<=1023?p=d||a:c>=1024&&c<=1279?p=f||a:c>=1280&&(p=m||a),u(o.a,{style:{flexBasis:p/12*100+\"%\"}},t&&t.map&&t.length>1?t.map(function(e,n){return\"object\"!==typeof e?\"string\"===typeof e&&\"\"===e.trim()?null:u(s.a,{key:n,style:Object(l.c)({paddingVertical:1,marginVertical:1})},e):e}):\"object\"===typeof t?t:u(s.a,null,t))}},Gzh1:function(e,n,a){\"use strict\";a.r(n);var t=a(\"6BQ9\"),r=a.n(t),i=a(\"ln6h\"),o=a.n(i),s=a(\"dfwq\"),l=a(\"O40h\"),u=a(\"oEnF\"),c=a(\"52Dj\"),d=a(\"l0wL\"),f=a(\"q1tI\"),m=a.n(f),p=a(\"jzUF\"),b=a(\"IIls\"),y=m.a.createElement,k=function(e){var n=e.label,a=e.style,t=e.children;return y(p.a,{style:Object(d.c)(d.d.Field,a)},!!n&&y(p.a,{pointerEvents:\"none\"},y(b.a,{style:Object(d.c)(d.d.LabelFocus)},n)),t)},h=a(\"WsWs\"),j=a(\"Z/of\");a(\"THla\");var g=a(\"5niy\"),v=a(\"4YbZ\"),w=m.a.createElement;n.default=Object(g.a)(function(e){var n=e.form,a=e.renderMurid,t=e.renderKelas,i=e.renderKelasTitle,d=Object(g.b)({expandKelas:[],kelas:[],kelasMurid:{}});return Object(f.useEffect)(function(){d.kelas=[],Object(u.a)(\"{\\n        kelas {\\n          id \\n          nama_kelas\\n        }\\n      }\").then(function(e){d.kelas=e.kelas})},[]),w(j.a,null,w(c.a,{size:6,sizexs:12,sizesm:12,sizemd:12},w(k,{label:\"Berlaku untuk kelas:\"},d.kelas&&d.kelas.map(function(e,f){var m=n.kelas||{},y=m[e.id];return w(p.a,{key:e.id,style:{borderBottomWidth:f+1===d.kelas.length?0:1,marginHorizontal:-12,padding:5,paddingHorizontal:12,borderBottomColor:\"#ddd\"}},w(v.a,{onPress:Object(l.a)(o.a.mark(function a(){var t,r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d.kelasMurid[e.id]){a.next=5;break}return a.next=3,Object(u.a)(\"{\\n                                murid(where: {kelas_murids: {kelas_id: {_eq: \".concat(e.id,\"}}}) {\\n                                  id\\n                                  nama_murid\\n                                }\\n                              }\\n                              \"));case 3:(t=a.sent)&&t.murid&&(r=t.murid.map(function(e){return{value:e.id,label:e.nama_murid}}),d.kelasMurid[e.id]=[{value:0,label:\"\"}].concat(Object(s.a)(r)));case 5:y?d.expandKelas=[e.id]:(m[e.id]={nominal:n.nominal,murid:[{}]},d.expandKelas=[e.id]);case 6:case\"end\":return a.stop()}},a)}))},w(b.a,{style:{fontSize:17,height:25}},y?\"\\u2611\":\"\\u2610\",\"\\xa0\",e.nama_kelas)),y&&w(p.a,{style:{flexDirection:\"row\",marginLeft:30,alignItems:\"center\",position:\"absolute\",right:10}},i&&i(y,e),w(v.a,{onPress:function(){m[e.id]=void 0}},w(b.a,{style:{color:\"red\"}},\" Hapus\"))),y&&d.expandKelas.indexOf(e.id)>=0&&w(p.a,null,t&&t(y,e),y.murid.map(function(n,t){return w(j.a,{key:t,style:{flexDirection:\"row\"}},w(c.a,{size:6},w(h.a,{label:\"Murid\",items:d.kelasMurid[e.id]||[],value:n.id||0,setValue:function(e){e=r()(e),n.id=e;var a,t,i=(a=y.murid,t=\"id\",a.map(function(e){return e[t]}).map(function(e,n,a){return a.indexOf(e)===n&&n}).filter(function(e){return a[e]}).map(function(e){return a[e]})).filter(function(e){return 0!==e.id});y.murid.splice(0,y.murid.length),i.forEach(function(e){y.murid.push(e)}),y.murid.push({id:0})}})),a&&a(n,y,e))})))}))))})},U38F:function(e,n,a){\"use strict\";var t=a(\"ln6h\"),r=a.n(t),i=a(\"9Jkg\"),o=a.n(i),s=a(\"zrwo\"),l=a(\"O40h\"),u=a(\"THla\"),c=a(\"msbC\");n.a=function(){var e=Object(l.a)(r.a.mark(function e(n,a,t){var i,l,d,f,m,p,b;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(s.a)({},{useSession:!0,debug:!1,primaryKey:\"id\"},t),l=\"string\"===typeof a[i.primaryKey]?'\"'.concat(a[i.primaryKey],'\"'):a[i.primaryKey],d=\"mutation delete {\\n    delete_\".concat(n,\"(\\n      where: {\").concat(i.primaryKey,\": {_eq: \").concat(l,\"}},\\n    ) {\\n      affected_rows\\n    }\\n  }\"),f={\"Content-Type\":\"application/json\"},!i.useSession){e.next=11;break}return e.next=7,Object(c.a)();case 7:if(m=e.sent,f[\"X-Hasura-Session-Id\"]=m.id,m){e.next=11;break}return e.abrupt(\"return\",!1);case 11:return e.next=13,fetch(u.a.url,{method:\"POST\",body:o()({operationName:\"delete\",query:d}),headers:f});case 13:return p=e.sent,e.next=16,p.json();case 16:if(b=e.sent,200===p.status){e.next=21;break}if(!(b&&b.errors&&b.errors[0]&&b.errors[0].message)){e.next=20;break}throw\"\\n(Create Record Failed) \".concat(b.errors[0].message,\" \\n\\nGraphQL Mutation:\\n\").concat(d,\"\\n\\nData: \\n\").concat(o()(a,null,2).replace(/\"/gi,\"'\"),\"\\n        \").trim();case 20:return e.abrupt(\"return\",null);case 21:return e.abrupt(\"return\",b);case 22:case\"end\":return e.stop()}},e)}));return function(n,a,t){return e.apply(this,arguments)}}()},Urr4:function(e,n,a){\"use strict\";a.r(n);var t=a(\"6BQ9\"),r=a.n(t),i=a(\"ln6h\"),o=a.n(i),s=a(\"O40h\"),l=a(\"htXD\"),u=a(\"U38F\"),c=a(\"oEnF\"),d=a(\"jjgO\"),f=a(\"Chh1\"),m=a(\"tsZx\"),p=a(\"52Dj\"),b=a(\"mDt/\"),y=a(\"WsWs\"),k=a(\"rRlx\"),h=a(\"oMaz\"),j=a(\"Z/of\"),g=a(\"5niy\"),v=a(\"q1tI\"),w=a.n(v),O=a(\"XwJz\"),x=a(\"sZPt\"),z=a(\"IIls\"),_=a(\"4YbZ\"),I=a(\"jzUF\"),S=a(\"Gzh1\"),K=a(\"yDJ3\"),P=a.n(K),D=w.a.createElement;n.default=Object(g.a)(function(e){var n=e.navigation,a=Object(g.b)({form:(n||{getParam:function(){return{}}}).getParam(\"item\")}),t=P()(a,\"form.transaksi_aggregate.aggregate.count\");return Object(v.useEffect)(function(){a.form.id&&Object(c.a)(\"\\n      {\\n        kewajiban(where: {id: {_eq: \".concat(a.form.id,\"}}) {\\n          kelas\\n          batas_pembayaran\\n          id\\n          nominal\\n          nama_kewajiban\\n          status\\n          tgl_batas_pembayaran_bulan\\n          tipe_pembayaran\\n          transaksi_aggregate {\\n            aggregate {\\n              count\\n            }\\n          }\\n        }\\n      }\\n    \")).then(function(e){a.form=e.kewajiban[0]})},[]),D(b.a,null,D(h.a,{navigation:n,title:\" Kewajiban \"+(a.form.id?\"#\".concat(a.form.id,\": \").concat(a.form.nama_kewajiban):\"Baru\"),onBack:function(){n.goBack()}},D(j.a,null,D(m.a,{onPress:Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.form.id){e.next=5;break}return e.next=3,Object(d.a)(\"kewajiban\",a.form);case 3:e.next=7;break;case 5:return e.next=7,Object(l.a)(\"kewajiban\",a.form);case 7:n.goBack();case 8:case\"end\":return e.stop()}},e)}))},\"Simpan\"),0===t&&D(m.a,{style:{backgroundColor:\"red\",marginLeft:-5},onPress:Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(\"web\"!==O.a.OS){e.next=8;break}if(!confirm(\"Apakah anda yakin ingin menghapus kewajiban ini ?\")){e.next=6;break}if(!a.form.id){e.next=5;break}return e.next=5,Object(u.a)(\"kewajiban\",{id:a.form.id});case 5:n.goBack();case 6:e.next=9;break;case 8:x.a.alert(\"Menghapus Kewajiban\",\"Apakah Anda yakin ingin menghapus kewajiban ini ?\",[{text:\"NO\",style:\"cancel\",onPress:function(){}},{text:\"YES\",onPress:function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.form.id){e.next=3;break}return e.next=3,Object(u.a)(\"kewajiban\",{id:a.form.id});case 3:n.goBack();case 4:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}]);case 9:case\"end\":return e.stop()}},e)}))},\"Hapus\"))),D(f.a,null,D(j.a,{style:{paddingBottom:25}},0===t?D(z.a,null,\"Transaksi untuk kewajiban ini masih kosong.\"):D(_.a,null,D(j.a,null,D(z.a,null,\"Terdapat\"),D(z.a,{style:{marginHorizontal:5,textDecorationLine:\"underline\"}},t,\" transaksi\"),D(z.a,null,\" untuk kewajiban ini.\")))),D(k.a,{label:\"Nama Kewajiban\",setValue:function(e){a.form.nama_kewajiban=e},value:a.form.nama_kewajiban}),D(j.a,null,D(p.a,{size:4,sizesm:6,sizexs:6,sizemd:6},D(k.a,{label:\"Nominal\",setValue:function(e){a.form.nominal=e},value:a.form.nominal})),D(p.a,{size:4,sizesm:6,sizexs:6,sizemd:6},D(y.a,{label:\"Status Kewajiban\",items:[\"aktif\",\"non-aktif\"],setValue:function(e){a.form.status=e},value:a.form.status})),D(p.a,{size:4,sizesm:6,sizexs:6,sizemd:6},D(y.a,{label:\"Tipe Pembayaran\",items:[\"Bulanan\",\"Insidentil\"],setValue:function(e){a.form.tipe_pembayaran=e},value:a.form.tipe_pembayaran}))),D(S.default,{form:a.form,renderKelasTitle:function(e){return D(z.a,null,\"Rp \",r()(e.nominal).toLocaleString(),\" \")},renderKelas:function(e,n){return D(I.a,null,D(k.a,{label:\"Nominal untuk murid kelas \".concat(n.nama_kelas),value:e.nominal,setValue:function(n){e.nominal=n}}),D(z.a,{style:{padding:10,paddingLeft:15,color:\"#333\"}},\"Khusus untuk murid ini, di set sesuai nominal tertera:\"))},renderMurid:function(e,n){return D(p.a,{size:6},D(k.a,{label:\"Nominal\",value:e.nominal||n.nominal,setValue:function(n){e.nominal=n}}))}})))})},WsWs:function(e,n,a){\"use strict\";var t=a(\"l0wL\"),r=a(\"q1tI\"),i=a.n(r),o=a(\"jzUF\"),s=a(\"IIls\"),l=a(\"0KO/\"),u=a(\"osi3\");a(\"17x9\");var c=function(e){var n,a;function t(){return e.apply(this,arguments)||this}return a=e,(n=t).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,t.prototype.render=function(){var e=this.props,n=e.color,a=e.label,t=e.testID,r=e.value,i={color:n};return Object(u.a)(\"option\",{style:i,testID:t,value:r},a)},t}(r.Component);c.propTypes={};var d=a(\"ckSu\");function f(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var m=function(e){var n,a;function t(){for(var n,a=arguments.length,t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];return(n=e.call.apply(e,[this].concat(t))||this)._handleChange=function(e){var a=n.props.onValueChange,t=e.target,r=t.selectedIndex,i=t.value;a&&a(i,r)},n}return a=e,(n=t).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,t.prototype.render=function(){var e=this.props,n=e.children,a=e.enabled,t=e.selectedValue,r=e.style,i=e.testID,o=(e.itemStyle,e.mode,e.prompt,e.onValueChange,function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,[\"children\",\"enabled\",\"selectedValue\",\"style\",\"testID\",\"itemStyle\",\"mode\",\"prompt\",\"onValueChange\"]));return Object(u.a)(\"select\",function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},t=Object.keys(a);\"function\"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.forEach(function(n){f(e,n,a[n])})}return e}({children:n,disabled:!1===a||void 0,onChange:this._handleChange,style:[p.initial,r],testID:i,value:t},o))},t}(r.Component);m.Item=c,m.propTypes={};var p=d.a.create({initial:{fontFamily:\"System\",fontSize:\"inherit\",margin:0}}),b=Object(l.a)(m),y=i.a.createElement;n.a=function(e){var n=e.setValue,a=e.value,i=e.items,l=e.label,u=e.style,c=e.fieldActiveStyle,d=e.inputStyle,f=(void 0===d&&Object(t.c)(t.d.TextInput),e.inputProps,Object(r.useState)()),m=f[0],p=f[1],k=Object(r.useState)(!1),h=k[0];k[1],a||m?t.d.LabelFocus:t.d.SelectLabel;return y(o.a,{style:h?Object(t.c)(Object(t.c)(t.d.Field,u),Object(t.c)(t.d.FieldActive,c)):Object(t.c)(t.d.Field,u)},!!l&&y(s.a,{style:Object(t.c)(t.d.LabelFocus,{marginLeft:10})},l),y(b,{mode:\"dialog\",style:{marginVertical:5},selectedValue:a||m,onValueChange:function(e,a){return void 0!=n?n(e):p(e)}},i.map(function(e,n){return y(b.Item,\"string\"===typeof e?{key:n,label:e,value:e}:{key:n,label:e.label,value:e.value})})))}},\"Z/of\":function(e,n,a){\"use strict\";var t=a(\"zrwo\"),r=a(\"q1tI\"),i=a.n(r),o=a(\"jzUF\"),s=i.a.createElement;n.a=function(e){return s(o.a,{style:Object(t.a)({},e.style,{flexDirection:\"row\",flexWrap:\"wrap\"})},e.children)}},sZPt:function(e,n,a){\"use strict\";var t=function(){function e(){}return e.alert=function(){},e}();n.a=t},uQPh:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/app/screens/admin/Kewajiban/KewajibanDetail\",function(){return a(\"Urr4\")}])}},[[\"uQPh\",1,0]]]);"}