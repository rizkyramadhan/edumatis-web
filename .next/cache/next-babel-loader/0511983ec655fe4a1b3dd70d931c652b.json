{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nvar _jsxFileName = \"/Users/riz/Documents/edumatis-web/pages/app/screens/admin/Kelas/MuridList.tsx\";\nvar __jsx = React.createElement;\nimport UIButton from \"../../../../../libs/ui/UIButton\";\nimport UIImage from \"../../../../../libs/ui/UIImage\";\nimport UIList from \"../../../../../libs/ui/UIList\";\nimport UIListItem from \"../../../../../libs/ui/UIListItem\";\nimport { observer, useObservable } from 'mobx-react-lite';\nimport React from 'react';\nimport { Text, View, TouchableOpacity } from \"react-native-web\";\nimport { toJS } from 'mobx';\nexport default observer(function (data) {\n  var meta = useObservable({\n    checked: []\n  });\n  if (!data.list) return null;\n  return __jsx(View, {\n    style: {\n      paddingHorizontal: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, __jsx(View, {\n    style: {\n      borderBottomColor: '#ddd',\n      borderBottomWidth: 2,\n      flexDirection: 'row',\n      alignItems: 'center',\n      padding: 10,\n      justifyContent: 'space-between'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, __jsx(Text, {\n    style: {\n      color: '#999'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Total Murid: \", data.list.length, meta.checked.length > 0 && \" \\u2022 Murid Terpilih: \".concat(meta.checked.length)), __jsx(View, {\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, false && meta.checked.length > 0 && __jsx(UIButton, {\n    size: \"small\",\n    fill: \"outline\",\n    style: {\n      margin: 0,\n      marginLeft: 8\n    },\n    labelStyle: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingTop: 2,\n      paddingBottom: 2,\n      paddingHorizontal: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, __jsx(UIImage, {\n    source: require(\"../../../imgs/move.png\"),\n    style: {\n      width: 18,\n      height: 18,\n      marginLeft: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), \"Pindah Ke Kelas Lain\"), __jsx(UIButton, {\n    size: \"small\",\n    fill: \"outline\",\n    style: {\n      margin: 0,\n      marginLeft: 8\n    },\n    labelStyle: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingTop: 2,\n      paddingBottom: 2,\n      paddingHorizontal: 0\n    },\n    onPress: function onPress() {\n      var hasDetail = false;\n      var list = toJS(data.list);\n      list.forEach(function (item) {\n        if (item.data && item.data.nik) {\n          hasDetail = true;\n        }\n      });\n      var header = [];\n      var finalList = [];\n      header.push('nisn');\n      header.push('nsa');\n      header.push('nama_lengkap');\n      header.push('tgl_lahir');\n\n      if (hasDetail) {\n        list.forEach(function (item) {\n          if (item.data && item.data.nik) {\n            for (var _i in item.data) {\n              header.push(_i);\n            }\n          }\n        });\n      }\n\n      finalList.push(header);\n      list.forEach(function (item) {\n        var row = [];\n        row.push(item['nisn']);\n        row.push(item['nsa']);\n        row.push(item['nama_murid']);\n        row.push(item['tgl_lahir']);\n\n        if (item.data && item.data.nik) {\n          for (var _i2 in item.data) {\n            row.push(item.data[_i2]);\n          }\n        }\n\n        finalList.push(row);\n      });\n      console.log(finalList);\n      var finalVal = '';\n\n      for (var i = 0; i < finalList.length; i++) {\n        var value = finalList[i];\n\n        for (var j = 0; j < value.length; j++) {\n          var innerValue = value[j] === null ? '' : value[j].toString();\n          var result = innerValue.replace(/\"/g, '\"\"');\n          if (result.search(/(\"|,|\\n)/g) >= 0) result = '\"' + result + '\"';\n          if (j > 0) finalVal += ',';\n          finalVal += result;\n        }\n\n        finalVal += '\\n';\n      }\n\n      var pom = document.createElement('a');\n      var csvContent = finalVal; //here we load our csv data\n\n      var blob = new Blob([csvContent], {\n        type: 'text/csv;charset=utf-8;'\n      });\n      var url = URL.createObjectURL(blob);\n      pom.href = url;\n      pom.setAttribute('download', \"Kelas_\".concat(data.kelas.nama_kelas.replace(/[\\W_]+/g, '_'), \".csv\"));\n      pom.click();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(UIImage, {\n    source: require(\"../../../imgs/share.png\"),\n    style: {\n      width: 12,\n      height: 12,\n      marginLeft: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }), \"Export CSV\"), __jsx(UIButton, {\n    size: \"small\",\n    style: {\n      margin: 0,\n      marginLeft: 8\n    },\n    labelStyle: {\n      flexDirection: 'row',\n      alignItems: 'center',\n      paddingTop: 2,\n      paddingBottom: 2,\n      paddingHorizontal: 0\n    },\n    onPress: function onPress() {\n      data.navigation.navigate('MuridDetail', {\n        item: {},\n        kelas: data.kelas\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, __jsx(UIImage, {\n    source: require(\"../../../imgs/plus.png\"),\n    style: {\n      width: 12,\n      height: 12,\n      marginLeft: 8\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }), \"Tambah Siswa\"))), __jsx(UIList, {\n    data: data.list,\n    extraData: meta.checked.length,\n    loading: data.loading,\n    render: function render(list) {\n      var item = list.item;\n      return __jsx(View, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center',\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, __jsx(TouchableOpacity, {\n        style: {\n          height: 60,\n          paddingLeft: 10,\n          paddingRight: 3,\n          borderBottomColor: '#ccc',\n          borderBottomWidth: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        onPress: function onPress() {\n          var idx = meta.checked.indexOf(_parseInt(item.id));\n\n          if (idx >= 0) {\n            meta.checked.splice(idx, 1);\n          } else {\n            meta.checked.push(_parseInt(item.id));\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, __jsx(Text, {\n        style: {\n          fontSize: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, meta.checked.indexOf(_parseInt(item.id)) >= 0 ? '☑' : '☐')), __jsx(UIListItem, {\n        style: {\n          height: 60,\n          flex: 1\n        },\n        onPress: function onPress() {\n          data.navigation.navigate('MuridDetail', {\n            item: item,\n            kelas: data.kelas\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, __jsx(View, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, __jsx(Text, {\n        style: {\n          paddingRight: 10,\n          fontSize: 17,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, list.index + 1), __jsx(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, __jsx(Text, {\n        style: {\n          fontSize: 16\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, item.nama_murid), __jsx(View, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, __jsx(Text, {\n        style: {\n          fontSize: 13\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, item.is_active === 'y' ? 'Aktif' : 'Non-Aktif', \"\\xA0 \\u2022 \\xA0\"), __jsx(Text, {\n        style: {\n          fontSize: 13,\n          color: !item.data ? '#ccc' : 'green'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, item.data ? \"Data diri tersedia\" : \"Tanpa data diri\")))), __jsx(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, __jsx(Text, {\n        style: {\n          fontSize: 12,\n          color: '#999',\n          textAlign: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"NSA: \", item.nsa), __jsx(Text, {\n        style: {\n          fontSize: 12,\n          color: '#999',\n          textAlign: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"NISN: \", item.nisn))));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }));\n});","map":{"version":3,"sources":["/Users/riz/Documents/edumatis-web/pages/app/screens/admin/Kelas/MuridList.tsx"],"names":["UIButton","UIImage","UIList","UIListItem","observer","useObservable","React","Text","View","TouchableOpacity","toJS","data","meta","checked","list","paddingHorizontal","borderBottomColor","borderBottomWidth","flexDirection","alignItems","padding","justifyContent","color","length","margin","marginLeft","paddingTop","paddingBottom","require","width","height","hasDetail","forEach","item","nik","header","finalList","push","i","row","console","log","finalVal","value","j","innerValue","toString","result","replace","search","pom","document","createElement","csvContent","blob","Blob","type","url","URL","createObjectURL","href","setAttribute","kelas","nama_kelas","click","navigation","navigate","loading","flex","paddingLeft","paddingRight","idx","indexOf","id","splice","fontSize","fontWeight","index","nama_murid","is_active","textAlign","nsa","nisn"],"mappings":"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","sourcesContent":["import UIButton from '@app/libs/ui/UIButton';\nimport UIImage from '@app/libs/ui/UIImage';\nimport UIList from '@app/libs/ui/UIList';\nimport UIListItem from '@app/libs/ui/UIListItem';\nimport { observer, useObservable } from 'mobx-react-lite';\nimport React from 'react';\nimport { Text, View, TouchableOpacity } from 'react-native';\nimport { toJS } from 'mobx';\n\nexport default observer(\n  (data: { kelas: any; list: any[]; loading: boolean; navigation: any }) => {\n    const meta = useObservable({\n      checked: [] as any\n    });\n    if (!data.list) return null;\n\n    return (\n      <View style={{ paddingHorizontal: 10 }}>\n        <View\n          style={{\n            borderBottomColor: '#ddd',\n            borderBottomWidth: 2,\n            flexDirection: 'row',\n            alignItems: 'center',\n            padding: 10,\n            justifyContent: 'space-between'\n          }}\n        >\n          <Text style={{ color: '#999' }}>\n            Total Murid: {data.list.length}\n            {meta.checked.length > 0 &&\n              ` • Murid Terpilih: ${meta.checked.length}`}\n          </Text>\n          <View\n            style={{\n              flexDirection: 'row',\n              alignItems: 'center'\n            }}\n          >\n            {false && meta.checked.length > 0 && (\n              <UIButton\n                size='small'\n                fill='outline'\n                style={{ margin: 0, marginLeft: 8 }}\n                labelStyle={{\n                  flexDirection: 'row',\n                  alignItems: 'center',\n                  paddingTop: 2,\n                  paddingBottom: 2,\n                  paddingHorizontal: 0\n                }}\n              >\n                <UIImage\n                  source={require('@app/imgs/move.png')}\n                  style={{ width: 18, height: 18, marginLeft: 8 }}\n                />\n                Pindah Ke Kelas Lain\n              </UIButton>\n            )}\n            <UIButton\n              size='small'\n              fill='outline'\n              style={{ margin: 0, marginLeft: 8 }}\n              labelStyle={{\n                flexDirection: 'row',\n                alignItems: 'center',\n                paddingTop: 2,\n                paddingBottom: 2,\n                paddingHorizontal: 0\n              }}\n              onPress={() => {\n                let hasDetail = false;\n                const list = toJS(data.list);\n                list.forEach(item => {\n                  if (item.data && item.data.nik) {\n                    hasDetail = true;\n                  }\n                });\n\n                const header: any = [];\n                const finalList: any = [];\n\n                header.push('nisn');\n                header.push('nsa');\n                header.push('nama_lengkap');\n                header.push('tgl_lahir');\n\n                if (hasDetail) {\n                  list.forEach(item => {\n                    if (item.data && item.data.nik) {\n                      for (let i in item.data) {\n                        header.push(i);\n                      }\n                    }\n                  });\n                }\n\n                finalList.push(header);\n                list.forEach(item => {\n                  const row: any = [];\n                  row.push(item['nisn']);\n                  row.push(item['nsa']);\n                  row.push(item['nama_murid']);\n                  row.push(item['tgl_lahir']);\n                  if (item.data && item.data.nik) {\n                    for (let i in item.data) {\n                      row.push(item.data[i]);\n                    }\n                  }\n                  finalList.push(row);\n                });\n                console.log(finalList);\n\n                var finalVal = '';\n                for (var i = 0; i < finalList.length; i++) {\n                  var value = finalList[i];\n\n                  for (var j = 0; j < value.length; j++) {\n                    var innerValue =\n                      value[j] === null ? '' : value[j].toString();\n                    var result = innerValue.replace(/\"/g, '\"\"');\n                    if (result.search(/(\"|,|\\n)/g) >= 0)\n                      result = '\"' + result + '\"';\n                    if (j > 0) finalVal += ',';\n                    finalVal += result;\n                  }\n\n                  finalVal += '\\n';\n                }\n                var pom = document.createElement('a');\n                var csvContent = finalVal; //here we load our csv data\n                var blob = new Blob([csvContent], {\n                  type: 'text/csv;charset=utf-8;'\n                });\n                var url = URL.createObjectURL(blob);\n                pom.href = url;\n                pom.setAttribute(\n                  'download',\n                  `Kelas_${data.kelas.nama_kelas.replace(/[\\W_]+/g, '_')}.csv`\n                );\n                pom.click();\n              }}\n            >\n              <UIImage\n                source={require('@app/imgs/share.png')}\n                style={{ width: 12, height: 12, marginLeft: 8 }}\n              />\n              Export CSV\n            </UIButton>\n            <UIButton\n              size='small'\n              style={{ margin: 0, marginLeft: 8 }}\n              labelStyle={{\n                flexDirection: 'row',\n                alignItems: 'center',\n                paddingTop: 2,\n                paddingBottom: 2,\n                paddingHorizontal: 0\n              }}\n              onPress={() => {\n                data.navigation.navigate('MuridDetail', {\n                  item: {},\n                  kelas: data.kelas\n                });\n              }}\n            >\n              <UIImage\n                source={require('@app/imgs/plus.png')}\n                style={{ width: 12, height: 12, marginLeft: 8 }}\n              />\n              Tambah Siswa\n            </UIButton>\n          </View>\n        </View>\n        <UIList\n          data={data.list}\n          extraData={meta.checked.length}\n          loading={data.loading}\n          render={(list: any) => {\n            const item = list.item;\n            return (\n              <View\n                style={{ flexDirection: 'row', alignItems: 'center', flex: 1 }}\n              >\n                <TouchableOpacity\n                  style={{\n                    height: 60,\n                    paddingLeft: 10,\n                    paddingRight: 3,\n                    borderBottomColor: '#ccc',\n                    borderBottomWidth: 1,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                  }}\n                  onPress={() => {\n                    const idx = meta.checked.indexOf(parseInt(item.id));\n                    if (idx >= 0) {\n                      meta.checked.splice(idx, 1);\n                    } else {\n                      meta.checked.push(parseInt(item.id));\n                    }\n                  }}\n                >\n                  <Text style={{ fontSize: 20 }}>\n                    {meta.checked.indexOf(parseInt(item.id)) >= 0 ? '☑' : '☐'}\n                  </Text>\n                </TouchableOpacity>\n                <UIListItem\n                  style={{\n                    height: 60,\n                    flex: 1\n                  }}\n                  onPress={() => {\n                    data.navigation.navigate('MuridDetail', {\n                      item,\n                      kelas: data.kelas\n                    });\n                  }}\n                >\n                  <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                    <Text\n                      style={{\n                        paddingRight: 10,\n                        fontSize: 17,\n                        fontWeight: 'bold'\n                      }}\n                    >\n                      {list.index + 1}\n                    </Text>\n                    <View>\n                      <Text style={{ fontSize: 16 }}>{item.nama_murid}</Text>\n                      <View\n                        style={{ flexDirection: 'row', alignItems: 'center' }}\n                      >\n                        <Text style={{ fontSize: 13 }}>\n                          {item.is_active === 'y' ? 'Aktif' : 'Non-Aktif'}\n                          &nbsp; &bull; &nbsp;\n                        </Text>\n                        <Text\n                          style={{\n                            fontSize: 13,\n                            color: !item.data ? '#ccc' : 'green'\n                          }}\n                        >\n                          {item.data ? `Data diri tersedia` : `Tanpa data diri`}\n                        </Text>\n                      </View>\n                    </View>\n                  </View>\n                  <View>\n                    <Text\n                      style={{\n                        fontSize: 12,\n                        color: '#999',\n                        textAlign: 'right'\n                      }}\n                    >\n                      NSA: {item.nsa}\n                    </Text>\n                    <Text\n                      style={{\n                        fontSize: 12,\n                        color: '#999',\n                        textAlign: 'right'\n                      }}\n                    >\n                      NISN: {item.nisn}\n                    </Text>\n                  </View>\n                </UIListItem>\n              </View>\n            );\n          }}\n        />\n      </View>\n    );\n  }\n);\n"]},"metadata":{},"sourceType":"module"}