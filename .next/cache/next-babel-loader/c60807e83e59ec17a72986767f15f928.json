{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport { AsyncStorage } from \"react-native-web\";\nimport query from \"../crud/query\";\nimport config from \"../../config\";\nexport async function setSession(value) {\n  try {\n    await AsyncStorage.setItem(\"SESSION\", _JSON$stringify(value));\n  } catch (error) {\n    return;\n  }\n}\nexport async function getSession(loadFromCache = true) {\n  try {\n    const sessionRaw = await AsyncStorage.getItem(\"SESSION\");\n\n    if (sessionRaw !== null) {\n      let session = JSON.parse(sessionRaw);\n\n      if (loadFromCache === false) {\n        session.user = await query(\"user\", [...config.user.columns], {\n          where: {\n            username: session.user.username\n          }\n        });\n        setSession(session);\n      }\n\n      return session;\n    }\n\n    return null;\n  } catch (error) {\n    return null;\n  }\n}","map":null,"metadata":{},"sourceType":"module"}