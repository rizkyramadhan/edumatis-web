{"ast":null,"code":"var __jsx = React.createElement;\nimport StackNav from \"../../../../../libs/nav/StackNav\";\nimport rawQuery from \"../../../../../libs/queries/crud/rawQuery\";\nimport UIBody from \"../../../../../libs/ui/UIBody\";\nimport UIButton from \"../../../../../libs/ui/UIButton\";\nimport UIContainer from \"../../../../../libs/ui/UIContainer\";\nimport UIHead from \"../../../../../libs/ui/UIHead\";\nimport UIList from \"../../../../../libs/ui/UIList\";\nimport UIListItem from \"../../../../../libs/ui/UIListItem\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React, { useEffect } from \"react\";\nimport { Text, View } from \"react-native-web\";\nimport KelasDetail from \"./KelasDetail\";\nimport MuridDetail from \"./MuridDetail\";\nconst Kelas = observer(({\n  navigation\n}) => {\n  const data = useObservable({\n    list: [],\n    loading: true\n  });\n  useEffect(() => {\n    let fetch = async () => {\n      const result = await rawQuery(`{\n        kelas(order_by: {id: asc}) {\n          id\n          kelas_murids_aggregate {\n            aggregate {\n              count\n            }\n          }\n          nama_kelas\n        }\n      }\n      `);\n\n      if (result && result.kelas) {\n        data.list = result.kelas;\n      }\n\n      data.loading = false;\n    };\n\n    fetch();\n  }, []);\n  return __jsx(UIContainer, null, __jsx(UIHead, {\n    navigation: navigation,\n    title: \"Kelas\"\n  }, __jsx(UIButton, {\n    size: \"small\",\n    onPress: () => {\n      navigation.navigate(\"KelasDetail\", {\n        item: {}\n      });\n    }\n  }, \"+ Kelas Baru\")), __jsx(UIBody, null, __jsx(UIList, {\n    data: data.list,\n    loading: data.loading,\n    render: list => {\n      const item = list.item;\n      return __jsx(UIListItem, {\n        onPress: () => {\n          navigation.navigate(\"KelasDetail\", {\n            item: item\n          });\n        }\n      }, __jsx(View, null, __jsx(Text, {\n        style: {\n          fontSize: 15,\n          fontWeight: \"bold\",\n          color: \"#555\"\n        }\n      }, item.nama_kelas), __jsx(Text, null, `${item.kelas_murids_aggregate.aggregate.count} murid`)), __jsx(View, null, __jsx(Text, null)));\n    }\n  })));\n});\nexport default StackNav({\n  Kelas: {\n    screen: Kelas\n  },\n  MuridDetail: {\n    screen: MuridDetail\n  },\n  KelasDetail: {\n    screen: KelasDetail\n  }\n});","map":null,"metadata":{},"sourceType":"module"}