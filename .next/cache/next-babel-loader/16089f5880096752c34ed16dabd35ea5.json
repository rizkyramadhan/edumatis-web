{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/riz/Documents/edumatis-web/pages/app/screens/admin/Pengumuman/PengumumanDetail.tsx\";\nvar __jsx = React.createElement;\nimport UIBody from \"../../../../../libs/ui/UIBody\";\nimport UICol from \"../../../../../libs/ui/UICol\";\nimport UIContainer from \"../../../../../libs/ui/UIContainer\";\nimport UIFieldText from \"../../../../../libs/ui/UIFieldText\";\nimport UIHead from \"../../../../../libs/ui/UIHead\";\nimport UIRow from \"../../../../../libs/ui/UIRow\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React from \"react\";\nimport UIFieldSelectNative from \"../../../../../libs/ui/UIFieldSelectNative\";\nimport KelasPicker from \"../Kelas/KelasPicker\";\nimport { Text, Platform, Alert } from \"react-native-web\";\nimport UIButton from \"../../../../../libs/ui/UIButton\";\nimport updateRecord from \"../../../../../libs/queries/crud/updateRecord\";\nimport createRecord from \"../../../../../libs/queries/crud/createRecord\";\nimport deleteRecord from \"../../../../../libs/queries/crud/deleteRecord\";\nexport default observer(function (_ref) {\n  var navigation = _ref.navigation;\n  var data = useObservable({\n    loading: true,\n    form: (navigation || {\n      getParam: function getParam() {\n        return {};\n      }\n    }).getParam(\"item\")\n  });\n  return __jsx(UIContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, __jsx(UIHead, {\n    navigation: navigation,\n    title: \" Pengumuman \" + (data.form.id ? \"#\".concat(data.form.id) : \"Baru\"),\n    onBack: function onBack() {\n      navigation.goBack();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, __jsx(UIRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(UIButton, {\n    onPress:\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!data.form.id) {\n                _context.next = 6;\n                break;\n              }\n\n              data.form.id = _parseInt(data.form.id);\n              _context.next = 4;\n              return updateRecord(\"pengumuman\", data.form);\n\n            case 4:\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.next = 8;\n              return createRecord(\"pengumuman\", data.form);\n\n            case 8:\n              navigation.goBack();\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Simpan\"), __jsx(UIButton, {\n    style: {\n      backgroundColor: \"red\",\n      marginLeft: -5\n    },\n    onPress:\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(Platform.OS === \"web\")) {\n                _context3.next = 8;\n                break;\n              }\n\n              if (!confirm(\"Apakah anda yakin ingin menghapus pengumuman ini ?\")) {\n                _context3.next = 6;\n                break;\n              }\n\n              if (!data.form.id) {\n                _context3.next = 5;\n                break;\n              }\n\n              _context3.next = 5;\n              return deleteRecord(\"pengumuman\", {\n                id: data.form.id\n              });\n\n            case 5:\n              navigation.goBack();\n\n            case 6:\n              _context3.next = 9;\n              break;\n\n            case 8:\n              Alert.alert(\"Menghapus Kewajiban\", \"Apakah Anda yakin ingin menghapus pengumuman ini ?\", [{\n                text: \"NO\",\n                style: \"cancel\",\n                onPress: function onPress() {}\n              }, {\n                text: \"YES\",\n                onPress: function () {\n                  var _onPress = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee2() {\n                    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            if (!data.form.id) {\n                              _context2.next = 3;\n                              break;\n                            }\n\n                            _context2.next = 3;\n                            return deleteRecord(\"pengumuman\", {\n                              id: data.form.id\n                            });\n\n                          case 3:\n                            navigation.goBack();\n\n                          case 4:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2);\n                  }));\n\n                  function onPress() {\n                    return _onPress.apply(this, arguments);\n                  }\n\n                  return onPress;\n                }()\n              }]);\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Hapus\"))), __jsx(UIBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, __jsx(UIFieldText, {\n    label: \"Text Pengumuman\",\n    setValue: function setValue(value) {\n      data.form.pengumuman = value;\n    },\n    value: data.form.pengumuman,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), __jsx(UIRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(UICol, {\n    size: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, __jsx(UIFieldSelectNative, {\n    label: \"Status\",\n    items: [{\n      value: \"aktif\",\n      label: \"Aktif\"\n    }, {\n      value: \"non-aktif\",\n      label: \"Non-Aktif\"\n    }],\n    value: data.form.status,\n    setValue: function setValue(v) {\n      data.form.status = v;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }))), __jsx(KelasPicker, {\n    form: data.form,\n    renderKelas: function renderKelas(kelas, detail) {\n      return __jsx(Text, {\n        style: {\n          paddingLeft: 15,\n          paddingVertical: 10,\n          color: \"#333\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, _Object$keys(kelas.murid).length === 1 ? \"Untuk semua murid di kelas \".concat(detail.nama_kelas) : \"Khusus untuk murid dibawah ini\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })));\n});","map":{"version":3,"sources":["/Users/riz/Documents/edumatis-web/pages/app/screens/admin/Pengumuman/PengumumanDetail.tsx"],"names":["UIBody","UICol","UIContainer","UIFieldText","UIHead","UIRow","observer","useObservable","React","UIFieldSelectNative","KelasPicker","Text","Platform","Alert","UIButton","updateRecord","createRecord","deleteRecord","navigation","data","loading","form","getParam","id","goBack","backgroundColor","marginLeft","OS","confirm","alert","text","style","onPress","value","pengumuman","label","status","v","kelas","detail","paddingLeft","paddingVertical","color","murid","length","nama_kelas"],"mappings":";;;;;;AAAA,OAAOA,MAAP;AACA,OAAOC,KAAP;AACA,OAAOC,WAAP;AACA,OAAOC,WAAP;AACA,OAAOC,MAAP;AACA,OAAOC,KAAP;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,iBAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,mBAAP;AACA,OAAOC,WAAP;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,KAAzB;AACA,OAAOC,QAAP;AACA,OAAOC,YAAP;AACA,OAAOC,YAAP;AACA,OAAOC,YAAP;AAEA,eAAeX,QAAQ,CAAC,gBAAyB;AAAA,MAAtBY,UAAsB,QAAtBA,UAAsB;AAC/C,MAAMC,IAAI,GAAGZ,aAAa,CAAC;AACzBa,IAAAA,OAAO,EAAE,IADgB;AAEzBC,IAAAA,IAAI,EAAE,CAACH,UAAU,IAAI;AAAEI,MAAAA,QAAQ,EAAE;AAAA,eAAO,EAAP;AAAA;AAAZ,KAAf,EAAwCA,QAAxC,CAAiD,MAAjD;AAFmB,GAAD,CAA1B;AAKA,SACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,UAAU,EAAEJ,UADd;AAEE,IAAA,KAAK,EAAE,kBAAkBC,IAAI,CAACE,IAAL,CAAUE,EAAV,cAAmBJ,IAAI,CAACE,IAAL,CAAUE,EAA7B,UAAlB,CAFT;AAGE,IAAA,MAAM,EAAE,kBAAM;AACZL,MAAAA,UAAU,CAACM,MAAX;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AACE,IAAA,OAAO;AAAA;AAAA;AAAA;AAAA,6BAAE;AAAA;AAAA;AAAA;AAAA;AAAA,mBACHL,IAAI,CAACE,IAAL,CAAUE,EADP;AAAA;AAAA;AAAA;;AAELJ,cAAAA,IAAI,CAACE,IAAL,CAAUE,EAAV,GAAe,UAASJ,IAAI,CAACE,IAAL,CAAUE,EAAnB,CAAf;AAFK;AAAA,qBAGCR,YAAY,CAAC,YAAD,EAAeI,IAAI,CAACE,IAApB,CAHb;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAKCL,YAAY,CAAC,YAAD,EAAeG,IAAI,CAACE,IAApB,CALb;;AAAA;AAOPH,cAAAA,UAAU,CAACM,MAAX;;AAPO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAcE,MAAC,QAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,EAAE,KADZ;AAELC,MAAAA,UAAU,EAAE,CAAC;AAFR,KADT;AAKE,IAAA,OAAO;AAAA;AAAA;AAAA;AAAA,6BAAE;AAAA;AAAA;AAAA;AAAA;AAAA,oBACHd,QAAQ,CAACe,EAAT,KAAgB,KADb;AAAA;AAAA;AAAA;;AAAA,mBAGHC,OAAO,CAAC,oDAAD,CAHJ;AAAA;AAAA;AAAA;;AAAA,mBAKCT,IAAI,CAACE,IAAL,CAAUE,EALX;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAMKN,YAAY,CAAC,YAAD,EAAe;AAAEM,gBAAAA,EAAE,EAAEJ,IAAI,CAACE,IAAL,CAAUE;AAAhB,eAAf,CANjB;;AAAA;AAQHL,cAAAA,UAAU,CAACM,MAAX;;AARG;AAAA;AAAA;;AAAA;AAWLX,cAAAA,KAAK,CAACgB,KAAN,CACE,qBADF,EAEE,oDAFF,EAGE,CACE;AACEC,gBAAAA,IAAI,EAAE,IADR;AAEEC,gBAAAA,KAAK,EAAE,QAFT;AAGEC,gBAAAA,OAAO,EAAE,mBAAM,CAAE;AAHnB,eADF,EAME;AACEF,gBAAAA,IAAI,EAAE,KADR;AAEEE,gBAAAA,OAAO;AAAA;AAAA;AAAA,2CAAE;AAAA;AAAA;AAAA;AAAA;AAAA,iCACHb,IAAI,CAACE,IAAL,CAAUE,EADP;AAAA;AAAA;AAAA;;AAAA;AAAA,mCAECN,YAAY,CAAC,YAAD,EAAe;AAC/BM,8BAAAA,EAAE,EAAEJ,IAAI,CAACE,IAAL,CAAUE;AADiB,6BAAf,CAFb;;AAAA;AAMPL,4BAAAA,UAAU,CAACM,MAAX;;AANO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAFT,eANF,CAHF;;AAXK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF,EALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAdF,CAPF,CADF,EAmEE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AACE,IAAA,KAAK,EAAC,iBADR;AAEE,IAAA,QAAQ,EAAE,kBAACS,KAAD,EAAgB;AACxBd,MAAAA,IAAI,CAACE,IAAL,CAAUa,UAAV,GAAuBD,KAAvB;AACD,KAJH;AAKE,IAAA,KAAK,EAAEd,IAAI,CAACE,IAAL,CAAUa,UALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAO,IAAA,IAAI,EAAE,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,mBAAD;AACE,IAAA,KAAK,EAAC,QADR;AAEE,IAAA,KAAK,EAAE,CACL;AAAED,MAAAA,KAAK,EAAE,OAAT;AAAkBE,MAAAA,KAAK,EAAE;AAAzB,KADK,EAEL;AAAEF,MAAAA,KAAK,EAAE,WAAT;AAAsBE,MAAAA,KAAK,EAAE;AAA7B,KAFK,CAFT;AAME,IAAA,KAAK,EAAEhB,IAAI,CAACE,IAAL,CAAUe,MANnB;AAOE,IAAA,QAAQ,EAAE,kBAACC,CAAD,EAAY;AACpBlB,MAAAA,IAAI,CAACE,IAAL,CAAUe,MAAV,GAAmBC,CAAnB;AACD,KATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CATF,EAwBE,MAAC,WAAD;AACE,IAAA,IAAI,EAAElB,IAAI,CAACE,IADb;AAEE,IAAA,WAAW,EAAE,qBAACiB,KAAD,EAAaC,MAAb,EAA6B;AACxC,aACE,MAAC,IAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,WAAW,EAAE,EAAf;AAAmBC,UAAAA,eAAe,EAAE,EAApC;AAAwCC,UAAAA,KAAK,EAAE;AAA/C,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGG,aAAYJ,KAAK,CAACK,KAAlB,EAAyBC,MAAzB,KAAoC,CAApC,wCACiCL,MAAM,CAACM,UADxC,oCAHH,CADF;AASD,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,CAnEF,CADF;AA6GD,CAnHsB,CAAvB","sourcesContent":["import UIBody from \"@app/libs/ui/UIBody\";\nimport UICol from \"@app/libs/ui/UICol\";\nimport UIContainer from \"@app/libs/ui/UIContainer\";\nimport UIFieldText from \"@app/libs/ui/UIFieldText\";\nimport UIHead from \"@app/libs/ui/UIHead\";\nimport UIRow from \"@app/libs/ui/UIRow\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React from \"react\";\nimport UIFieldSelectNative from \"@app/libs/ui/UIFieldSelectNative\";\nimport KelasPicker from \"../Kelas/KelasPicker\";\nimport { Text, Platform, Alert } from \"react-native\";\nimport UIButton from \"@app/libs/ui/UIButton\";\nimport updateRecord from \"@app/libs/queries/crud/updateRecord\";\nimport createRecord from \"@app/libs/queries/crud/createRecord\";\nimport deleteRecord from \"@app/libs/queries/crud/deleteRecord\";\n\nexport default observer(({ navigation }: any) => {\n  const data = useObservable({\n    loading: true,\n    form: (navigation || { getParam: () => ({})}).getParam(\"item\")\n  });\n\n  return (\n    <UIContainer>\n      <UIHead\n        navigation={navigation}\n        title={` Pengumuman ` + (data.form.id ? `#${data.form.id}` : `Baru`)}\n        onBack={() => {\n          navigation.goBack();\n        }}\n      >\n        <UIRow>\n          <UIButton\n            onPress={async () => {\n              if (data.form.id) {\n                data.form.id = parseInt(data.form.id);\n                await updateRecord(\"pengumuman\", data.form);\n              } else {\n                await createRecord(\"pengumuman\", data.form);\n              }\n              navigation.goBack();\n            }}\n          >\n            Simpan\n          </UIButton>\n          <UIButton\n            style={{\n              backgroundColor: \"red\",\n              marginLeft: -5\n            }}\n            onPress={async () => {\n              if (Platform.OS === \"web\") {\n                if (\n                  confirm(\"Apakah anda yakin ingin menghapus pengumuman ini ?\")\n                ) {\n                  if (data.form.id) {\n                    await deleteRecord(\"pengumuman\", { id: data.form.id });\n                  }\n                  navigation.goBack();\n                }\n              } else {\n                Alert.alert(\n                  \"Menghapus Kewajiban\",\n                  \"Apakah Anda yakin ingin menghapus pengumuman ini ?\",\n                  [\n                    {\n                      text: \"NO\",\n                      style: \"cancel\",\n                      onPress: () => {}\n                    },\n                    {\n                      text: \"YES\",\n                      onPress: async () => {\n                        if (data.form.id) {\n                          await deleteRecord(\"pengumuman\", {\n                            id: data.form.id\n                          });\n                        }\n                        navigation.goBack();\n                      }\n                    }\n                  ]\n                );\n              }\n            }}\n          >\n            Hapus\n          </UIButton>\n        </UIRow>\n      </UIHead>\n      <UIBody>\n        <UIFieldText\n          label=\"Text Pengumuman\"\n          setValue={(value: any) => {\n            data.form.pengumuman = value;\n          }}\n          value={data.form.pengumuman}\n        />\n\n        <UIRow>\n          <UICol size={4}>\n            <UIFieldSelectNative\n              label=\"Status\"\n              items={[\n                { value: \"aktif\", label: \"Aktif\" },\n                { value: \"non-aktif\", label: \"Non-Aktif\" }\n              ]}\n              value={data.form.status}\n              setValue={(v: any) => {\n                data.form.status = v;\n              }}\n            />\n          </UICol>\n        </UIRow>\n        <KelasPicker\n          form={data.form}\n          renderKelas={(kelas: any, detail: any) => {\n            return (\n              <Text\n                style={{ paddingLeft: 15, paddingVertical: 10, color: \"#333\" }}\n              >\n                {Object.keys(kelas.murid).length === 1\n                  ? `Untuk semua murid di kelas ${detail.nama_kelas}`\n                  : `Khusus untuk murid dibawah ini`}\n              </Text>\n            );\n          }}\n        />\n      </UIBody>\n    </UIContainer>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}