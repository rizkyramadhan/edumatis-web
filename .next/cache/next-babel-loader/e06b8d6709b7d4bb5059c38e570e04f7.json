{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nvar __jsx = React.createElement;\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React, { useRef } from \"react\";\nimport { toJS } from \"mobx\";\n\nconst container = routes => {\n  const routeStack = [];\n  let navParam = {};\n  return observer((props, ref) => {\n    let screenRef = useRef(null);\n    let current = useObservable({\n      name: \"\"\n    });\n\n    if (current.name === \"\") {\n      _Object$keys(routes).map((r, index) => {\n        if (index === 0) {\n          current.name = r;\n          screenRef.current = routes[r].screen;\n        }\n      });\n    }\n\n    const navigation = {\n      _routes: routes,\n      getParam: function (key) {\n        return navParam[key];\n      },\n      dangerouslyGetParent: function () {\n        return props.parentNavigation;\n      },\n      goBack: function () {\n        if (routeStack.length > 0) {\n          const screen = routeStack.pop();\n\n          if (routes[screen.name]) {\n            navParam = screen.data;\n            screenRef.current = routes[screen.name].screen;\n            current.name = screen.name;\n          }\n        }\n      },\n      navigate: function (screen, data) {\n        routeStack.push({\n          name: current.name,\n          data: toJS(navParam)\n        });\n\n        if (routes[screen]) {\n          navParam = data;\n          screenRef.current = routes[screen].screen;\n          current.name = screen;\n        }\n      },\n      replace: function (screen) {\n        if (routes[screen]) {\n          screenRef.current = routes[screen].screen;\n          current.name = screen;\n        }\n      },\n      popToTop: function () {\n        if (props.parentNavigation) {\n          props.parentNavigation.popToTop();\n        } else {\n          let first = _Object$keys(routes)[0];\n\n          current.name = first;\n          screenRef.current = routes[first].screen;\n        }\n      }\n    };\n    const Component = screenRef.current;\n\n    if (ref && ref.current) {\n      ref.current = navigation;\n    }\n\n    return __jsx(Component, _extends({}, props, {\n      navigation: navigation\n    }));\n  }, {\n    forwardRef: true\n  });\n};\n\nexport default (data => {\n  return container(data);\n});\nexport const createNavigateTo = function (navigation) {\n  return function (screen) {\n    navigation.replace(screen);\n    if (navigation.closeDrawer) navigation.closeDrawer();\n  };\n};","map":null,"metadata":{},"sourceType":"module"}