{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nvar _jsxFileName = \"/Users/riz/Documents/edumatis-web/pages/app/screens/admin/Pengumuman/PengumumanDetail.tsx\";\nvar __jsx = React.createElement;\nimport UIBody from \"../../../../../libs/ui/UIBody\";\nimport UICol from \"../../../../../libs/ui/UICol\";\nimport UIContainer from \"../../../../../libs/ui/UIContainer\";\nimport UIFieldText from \"../../../../../libs/ui/UIFieldText\";\nimport UIHead from \"../../../../../libs/ui/UIHead\";\nimport UIRow from \"../../../../../libs/ui/UIRow\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React from \"react\";\nimport UIFieldSelectNative from \"../../../../../libs/ui/UIFieldSelectNative\";\nimport KelasPicker from \"../Kelas/KelasPicker\";\nimport { Text, Platform, Alert } from \"react-native-web\";\nimport UIButton from \"../../../../../libs/ui/UIButton\";\nimport updateRecord from \"../../../../../libs/queries/crud/updateRecord\";\nimport createRecord from \"../../../../../libs/queries/crud/createRecord\";\nimport deleteRecord from \"../../../../../libs/queries/crud/deleteRecord\";\nexport default observer(({\n  navigation\n}) => {\n  const data = useObservable({\n    loading: true,\n    form: (navigation || {\n      getParam: () => ({})\n    }).getParam(\"item\")\n  });\n  return __jsx(UIContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, __jsx(UIHead, {\n    navigation: navigation,\n    title: ` Pengumuman ` + (data.form.id ? `#${data.form.id}` : `Baru`),\n    onBack: () => {\n      navigation.goBack();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, __jsx(UIRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(UIButton, {\n    onPress: async () => {\n      if (data.form.id) {\n        data.form.id = _parseInt(data.form.id);\n        await updateRecord(\"pengumuman\", data.form);\n      } else {\n        await createRecord(\"pengumuman\", data.form);\n      }\n\n      navigation.goBack();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Simpan\"), __jsx(UIButton, {\n    style: {\n      backgroundColor: \"red\",\n      marginLeft: -5\n    },\n    onPress: async () => {\n      if (Platform.OS === \"web\") {\n        if (confirm(\"Apakah anda yakin ingin menghapus pengumuman ini ?\")) {\n          if (data.form.id) {\n            await deleteRecord(\"pengumuman\", {\n              id: data.form.id\n            });\n          }\n\n          navigation.goBack();\n        }\n      } else {\n        Alert.alert(\"Menghapus Kewajiban\", \"Apakah Anda yakin ingin menghapus pengumuman ini ?\", [{\n          text: \"NO\",\n          style: \"cancel\",\n          onPress: () => {}\n        }, {\n          text: \"YES\",\n          onPress: async () => {\n            if (data.form.id) {\n              await deleteRecord(\"pengumuman\", {\n                id: data.form.id\n              });\n            }\n\n            navigation.goBack();\n          }\n        }]);\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Hapus\"))), __jsx(UIBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, __jsx(UIFieldText, {\n    label: \"Text Pengumuman\",\n    setValue: value => {\n      data.form.pengumuman = value;\n    },\n    value: data.form.pengumuman,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), __jsx(UIRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(UICol, {\n    size: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, __jsx(UIFieldSelectNative, {\n    label: \"Status\",\n    items: [{\n      value: \"aktif\",\n      label: \"Aktif\"\n    }, {\n      value: \"non-aktif\",\n      label: \"Non-Aktif\"\n    }],\n    value: data.form.status,\n    setValue: v => {\n      data.form.status = v;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }))), __jsx(KelasPicker, {\n    form: data.form,\n    renderKelas: (kelas, detail) => {\n      return __jsx(Text, {\n        style: {\n          paddingLeft: 15,\n          paddingVertical: 10,\n          color: \"#333\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, _Object$keys(kelas.murid).length === 1 ? `Untuk semua murid di kelas ${detail.nama_kelas}` : `Khusus untuk murid dibawah ini`);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })));\n});","map":{"version":3,"sources":["/Users/riz/Documents/edumatis-web/pages/app/screens/admin/Pengumuman/PengumumanDetail.tsx"],"names":["UIBody","UICol","UIContainer","UIFieldText","UIHead","UIRow","observer","useObservable","React","UIFieldSelectNative","KelasPicker","Text","Platform","Alert","UIButton","updateRecord","createRecord","deleteRecord","navigation","data","loading","form","getParam","id","goBack","backgroundColor","marginLeft","OS","confirm","alert","text","style","onPress","value","pengumuman","label","status","v","kelas","detail","paddingLeft","paddingVertical","color","murid","length","nama_kelas"],"mappings":"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","sourcesContent":["import UIBody from \"@app/libs/ui/UIBody\";\nimport UICol from \"@app/libs/ui/UICol\";\nimport UIContainer from \"@app/libs/ui/UIContainer\";\nimport UIFieldText from \"@app/libs/ui/UIFieldText\";\nimport UIHead from \"@app/libs/ui/UIHead\";\nimport UIRow from \"@app/libs/ui/UIRow\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React from \"react\";\nimport UIFieldSelectNative from \"@app/libs/ui/UIFieldSelectNative\";\nimport KelasPicker from \"../Kelas/KelasPicker\";\nimport { Text, Platform, Alert } from \"react-native\";\nimport UIButton from \"@app/libs/ui/UIButton\";\nimport updateRecord from \"@app/libs/queries/crud/updateRecord\";\nimport createRecord from \"@app/libs/queries/crud/createRecord\";\nimport deleteRecord from \"@app/libs/queries/crud/deleteRecord\";\n\nexport default observer(({ navigation }: any) => {\n  const data = useObservable({\n    loading: true,\n    form: (navigation || { getParam: () => ({})}).getParam(\"item\")\n  });\n\n  return (\n    <UIContainer>\n      <UIHead\n        navigation={navigation}\n        title={` Pengumuman ` + (data.form.id ? `#${data.form.id}` : `Baru`)}\n        onBack={() => {\n          navigation.goBack();\n        }}\n      >\n        <UIRow>\n          <UIButton\n            onPress={async () => {\n              if (data.form.id) {\n                data.form.id = parseInt(data.form.id);\n                await updateRecord(\"pengumuman\", data.form);\n              } else {\n                await createRecord(\"pengumuman\", data.form);\n              }\n              navigation.goBack();\n            }}\n          >\n            Simpan\n          </UIButton>\n          <UIButton\n            style={{\n              backgroundColor: \"red\",\n              marginLeft: -5\n            }}\n            onPress={async () => {\n              if (Platform.OS === \"web\") {\n                if (\n                  confirm(\"Apakah anda yakin ingin menghapus pengumuman ini ?\")\n                ) {\n                  if (data.form.id) {\n                    await deleteRecord(\"pengumuman\", { id: data.form.id });\n                  }\n                  navigation.goBack();\n                }\n              } else {\n                Alert.alert(\n                  \"Menghapus Kewajiban\",\n                  \"Apakah Anda yakin ingin menghapus pengumuman ini ?\",\n                  [\n                    {\n                      text: \"NO\",\n                      style: \"cancel\",\n                      onPress: () => {}\n                    },\n                    {\n                      text: \"YES\",\n                      onPress: async () => {\n                        if (data.form.id) {\n                          await deleteRecord(\"pengumuman\", {\n                            id: data.form.id\n                          });\n                        }\n                        navigation.goBack();\n                      }\n                    }\n                  ]\n                );\n              }\n            }}\n          >\n            Hapus\n          </UIButton>\n        </UIRow>\n      </UIHead>\n      <UIBody>\n        <UIFieldText\n          label=\"Text Pengumuman\"\n          setValue={(value: any) => {\n            data.form.pengumuman = value;\n          }}\n          value={data.form.pengumuman}\n        />\n\n        <UIRow>\n          <UICol size={4}>\n            <UIFieldSelectNative\n              label=\"Status\"\n              items={[\n                { value: \"aktif\", label: \"Aktif\" },\n                { value: \"non-aktif\", label: \"Non-Aktif\" }\n              ]}\n              value={data.form.status}\n              setValue={(v: any) => {\n                data.form.status = v;\n              }}\n            />\n          </UICol>\n        </UIRow>\n        <KelasPicker\n          form={data.form}\n          renderKelas={(kelas: any, detail: any) => {\n            return (\n              <Text\n                style={{ paddingLeft: 15, paddingVertical: 10, color: \"#333\" }}\n              >\n                {Object.keys(kelas.murid).length === 1\n                  ? `Untuk semua murid di kelas ${detail.nama_kelas}`\n                  : `Khusus untuk murid dibawah ini`}\n              </Text>\n            );\n          }}\n        />\n      </UIBody>\n    </UIContainer>\n  );\n});\n"]},"metadata":{},"sourceType":"module"}