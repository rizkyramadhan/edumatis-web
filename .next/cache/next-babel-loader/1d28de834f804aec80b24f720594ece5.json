{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/riz/Documents/edumatis-web/pages/app/screens/admin/Kelas/MuridDetail.tsx\";\nvar __jsx = React.createElement;\nimport StackNav from \"../../../../../libs/nav/StackNav\";\nimport UIBody from \"../../../../../libs/ui/UIBody\";\nimport UIButton from \"../../../../../libs/ui/UIButton\";\nimport UIContainer from \"../../../../../libs/ui/UIContainer\";\nimport UIFieldText from \"../../../../../libs/ui/UIFieldText\";\nimport UIHead from \"../../../../../libs/ui/UIHead\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { View } from \"react-native-web\";\nimport MuridDetailProfil from \"./MuridDetailProfil\";\nimport MuridDetailSide from \"./MuridDetailSide\";\nimport updateRecord from \"../../../../../libs/queries/crud/updateRecord\";\nimport createRecord from \"../../../../../libs/queries/crud/createRecord\";\nimport UIRow from \"../../../../../libs/ui/UIRow\";\nimport UICol from \"../../../../../libs/ui/UICol\";\nimport UIFieldSelectNative from \"../../../../../libs/ui/UIFieldSelectNative\";\nimport { hashPassword } from \"../../../../../libs/queries/user/hashPassword\";\nexport async function saveUser(form, kelas_id) {\n  if (form.id) {\n    await updateRecord(\"murid\", form);\n  } else {\n    form.id = await createRecord(\"murid\", form);\n\n    if (form.id > 0 && kelas_id) {\n      await createRecord(\"kelas_murid\", {\n        kelas_id: kelas_id,\n        murid_id: form.id,\n        is_active: \"y\"\n      });\n    }\n  }\n\n  if (!!form.password) {\n    await hashPassword(form.id);\n  }\n}\nconst MuridSistem = observer(({\n  navigation,\n  parentNavigation\n}) => {\n  const data = useObservable({\n    loading: true,\n    form: (parentNavigation || {\n      getParam: () => ({})\n    }).getParam(\"item\"),\n    kelas: (parentNavigation || {\n      getParam: () => ({})\n    }).getParam(\"kelas\")\n  });\n  return __jsx(UIContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, __jsx(UIHead, {\n    navigation: navigation,\n    title: data.form.id ? `Detail Siswa #${data.form.id}` : `Buat Siswa Baru`,\n    onBack: () => {\n      parentNavigation.goBack();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, __jsx(UIButton, {\n    onPress: async () => {\n      const form = _objectSpread({}, data.form);\n\n      await saveUser(form, data.kelas.id);\n      parentNavigation.goBack();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Simpan\")), __jsx(View, {\n    style: {\n      flexDirection: \"row\",\n      flex: 1,\n      borderTopColor: \"#ccc\",\n      borderTopWidth: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, __jsx(MuridDetailSide, {\n    navigation: navigation,\n    form: data.form,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), __jsx(UIBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, __jsx(UIRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, __jsx(UICol, {\n    size: 6,\n    sizexs: 12,\n    sizesm: 12,\n    sizemd: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, __jsx(UIFieldText, {\n    label: \"NSA (Username)\",\n    setValue: value => {\n      data.form.nsa = value;\n    },\n    value: data.form.nsa,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), __jsx(UICol, {\n    size: 6,\n    sizexs: 12,\n    sizesm: 12,\n    sizemd: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(UIFieldText, {\n    label: \"NISN\",\n    setValue: value => {\n      data.form.nisn = value;\n    },\n    value: data.form.nisn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }))), __jsx(UIFieldText, {\n    label: \"Nama Lengkap\",\n    setValue: value => {\n      data.form.nama_murid = value;\n    },\n    value: data.form.nama_murid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), __jsx(UIRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(UICol, {\n    size: 4,\n    sizexs: 12,\n    sizesm: 12,\n    sizemd: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, __jsx(UIFieldText, {\n    label: \"E-Mail\",\n    setValue: value => {\n      data.form.email = value;\n    },\n    value: data.form.email || \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }))), __jsx(UIRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, __jsx(UICol, {\n    size: 4,\n    sizexs: 12,\n    sizesm: 12,\n    sizemd: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, __jsx(UIFieldSelectNative, {\n    label: \"Status\",\n    items: [{\n      value: \"y\",\n      label: \"Aktif\"\n    }, {\n      value: \"n\",\n      label: \"Non-Aktif\"\n    }],\n    setValue: value => {\n      data.form.is_active = value;\n    },\n    value: data.form.is_active,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }))), __jsx(UIRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, __jsx(UICol, {\n    size: 4,\n    sizexs: 12,\n    sizesm: 12,\n    sizemd: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, __jsx(UIFieldText, {\n    label: \"Ubah Password\",\n    type: \"password\",\n    setValue: value => {\n      data.form.password = value;\n    },\n    value: data.form.password || \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }))))));\n});\nexport default StackNav({\n  MuridSistem: {\n    screen: MuridSistem\n  },\n  MuridProfil: {\n    screen: MuridDetailProfil\n  }\n});","map":{"version":3,"sources":["/Users/riz/Documents/edumatis-web/pages/app/screens/admin/Kelas/MuridDetail.tsx"],"names":["StackNav","UIBody","UIButton","UIContainer","UIFieldText","UIHead","observer","useObservable","React","View","MuridDetailProfil","MuridDetailSide","updateRecord","createRecord","UIRow","UICol","UIFieldSelectNative","hashPassword","saveUser","form","kelas_id","id","murid_id","is_active","password","MuridSistem","navigation","parentNavigation","data","loading","getParam","kelas","goBack","flexDirection","flex","borderTopColor","borderTopWidth","value","nsa","nisn","nama_murid","email","label","screen","MuridProfil"],"mappings":"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","sourcesContent":["import StackNav from \"@app/libs/nav/StackNav\";\nimport UIBody from \"@app/libs/ui/UIBody\";\nimport UIButton from \"@app/libs/ui/UIButton\";\nimport UIContainer from \"@app/libs/ui/UIContainer\";\nimport UIFieldText from \"@app/libs/ui/UIFieldText\";\nimport UIHead from \"@app/libs/ui/UIHead\";\nimport { observer, useObservable } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { View, Text } from \"react-native\";\nimport MuridDetailProfil from \"./MuridDetailProfil\";\nimport MuridDetailSide from \"./MuridDetailSide\";\nimport updateRecord from \"@app/libs/queries/crud/updateRecord\";\nimport createRecord from \"@app/libs/queries/crud/createRecord\";\nimport UIRow from \"@app/libs/ui/UIRow\";\nimport UICol from \"@app/libs/ui/UICol\";\nimport UIFieldSelectNative from \"@app/libs/ui/UIFieldSelectNative\";\nimport { hashPassword } from \"@app/libs/queries/user/hashPassword\";\n\nexport async function saveUser(form: any, kelas_id: number) {\n  if (form.id) {\n    await updateRecord(\"murid\", form);\n  } else {\n    form.id = await createRecord(\"murid\", form);\n    if (form.id > 0 && kelas_id) {\n      await createRecord(\"kelas_murid\", {\n        kelas_id: kelas_id,\n        murid_id: form.id,\n        is_active: \"y\"\n      });\n    }\n  }\n\n  if (!!form.password) {\n    await hashPassword(form.id);\n  }\n}\n\nconst MuridSistem = observer(({ navigation, parentNavigation }: any) => {\n  const data = useObservable({\n    loading: true,\n    form: (parentNavigation || { getParam: () => ({})}).getParam(\"item\"),\n    kelas: (parentNavigation || { getParam: () => ({})}).getParam(\"kelas\")\n  });\n\n  return (\n    <UIContainer>\n      <UIHead\n        navigation={navigation}\n        title={\n          data.form.id ? `Detail Siswa #${data.form.id}` : `Buat Siswa Baru`\n        }\n        onBack={() => {\n          parentNavigation.goBack();\n        }}\n      >\n        <UIButton\n          onPress={async () => {\n            const form = { ...data.form };\n            await saveUser(form, data.kelas.id);\n            parentNavigation.goBack();\n          }}\n        >\n          Simpan\n        </UIButton>\n      </UIHead>\n      <View\n        style={{\n          flexDirection: \"row\",\n          flex: 1,\n          borderTopColor: \"#ccc\",\n          borderTopWidth: 1\n        }}\n      >\n        <MuridDetailSide navigation={navigation} form={data.form} />\n        <UIBody>\n          <UIRow>\n            <UICol size={6} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldText\n                label=\"NSA (Username)\"\n                setValue={(value: any) => {\n                  data.form.nsa = value;\n                }}\n                value={data.form.nsa}\n              />\n            </UICol>\n            <UICol size={6} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldText\n                label=\"NISN\"\n                setValue={(value: any) => {\n                  data.form.nisn = value;\n                }}\n                value={data.form.nisn}\n              />\n            </UICol>\n          </UIRow>\n          <UIFieldText\n            label=\"Nama Lengkap\"\n            setValue={(value: any) => {\n              data.form.nama_murid = value;\n            }}\n            value={data.form.nama_murid}\n          />\n          <UIRow>\n            <UICol size={4} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldText\n                label=\"E-Mail\"\n                setValue={(value: any) => {\n                  data.form.email = value;\n                }}\n                value={data.form.email || \"\"}\n              />\n            </UICol>\n          </UIRow>\n\n          <UIRow>\n            <UICol size={4} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldSelectNative\n                label=\"Status\"\n                items={[\n                  { value: \"y\", label: \"Aktif\" },\n                  { value: \"n\", label: \"Non-Aktif\" }\n                ]}\n                setValue={(value: any) => {\n                  data.form.is_active = value;\n                }}\n                value={data.form.is_active}\n              />\n            </UICol>\n          </UIRow>\n\n          <UIRow>\n            <UICol size={4} sizexs={12} sizesm={12} sizemd={12}>\n              <UIFieldText\n                label=\"Ubah Password\"\n                type=\"password\"\n                setValue={(value: any) => {\n                  data.form.password = value;\n                }}\n                value={data.form.password || \"\"}\n              />\n            </UICol>\n          </UIRow>\n        </UIBody>\n      </View>\n    </UIContainer>\n  );\n});\n\nexport default StackNav({\n  MuridSistem: { screen: MuridSistem },\n  MuridProfil: { screen: MuridDetailProfil }\n});\n"]},"metadata":{},"sourceType":"module"}